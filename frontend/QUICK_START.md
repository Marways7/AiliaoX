# 快速启动指南

## 环境要求
- Node.js >= 20.0.0
- npm 或 yarn

## 安装依赖
```bash
cd /home/ClaudeCodeProject/ailiaox/frontend
npm install
```

## 开发模式启动
```bash
npm run dev
```
应用将在 `http://localhost:5173` 启动。

## 测试账号
使用以下测试账号登录系统：

- **管理员账号**:
  - 用户名: `admin`
  - 密码: `admin123`

- **医生账号**:
  - 用户名: `doctor`
  - 密码: `doctor123`

## 功能演示流程

### 1. 登录系统
1. 访问 `http://localhost:5173`
2. 自动跳转到登录页面
3. 输入测试账号登录

### 2. 患者列表管理
1. 登录后自动跳转到患者列表页 `/patients`
2. 查看统计卡片：总患者数、本月新增、男女比例
3. 使用搜索框搜索患者（姓名、电话、身份证）
4. 使用筛选下拉框筛选性别和血型

### 3. 创建新患者
1. 点击右上角"新建患者"按钮
2. 填写患者信息表单：
   - 姓名（必填，2-50字符）
   - 性别（必填）
   - 出生日期（必填）
   - 血型（可选）
   - 手机号码（必填，验证格式）
   - 身份证号（必填，验证格式）
   - 地址（可选）
   - 过敏史（可选，逗号分隔）
   - 既往病史（可选）
   - 紧急联系人（可选）
   - 紧急联系电话（可选，验证格式）
3. 点击"创建患者"提交
4. 创建成功后自动刷新列表

### 4. 查看患者详情
1. 在患者列表中点击患者行或"查看详情"图标
2. 跳转到患者详情页 `/patients/:id`
3. 查看患者完整信息：
   - 基本信息Tab：个人信息、联系方式、医疗信息
   - 就诊历史Tab：（功能开发中提示）
   - 病历记录Tab：（功能开发中提示）
   - 处方记录Tab：（功能开发中提示）

### 5. 编辑患者信息
**方式一：从列表页编辑**
1. 点击患者列表中的"编辑"图标
2. 在弹出的表单中修改信息
3. 点击"保存修改"

**方式二：从详情页编辑**
1. 在患者详情页点击"编辑"按钮
2. 在弹出的表单中修改信息
3. 点击"保存修改"

### 6. AI智能问诊
**方式一：从列表页启动**
1. 点击患者列表中的"AI问诊"图标（星星图标）
2. 进入AI对话界面

**方式二：从详情页启动**
1. 在患者详情页点击"AI问诊"按钮
2. 进入AI对话界面

**使用AI问诊**:
1. AI会自动加载患者基本信息
2. 点击预设问题快捷按钮或输入自定义问题
3. AI会根据患者信息提供专业建议
4. 可以继续追问，进行多轮对话
5. 按Enter发送消息，Shift+Enter换行

### 7. 删除患者
**方式一：从列表页删除**
1. 点击患者列表中的"删除"图标
2. 确认删除操作
3. 删除成功后自动刷新列表

**方式二：从详情页删除**
1. 在患者详情页点击"删除"按钮
2. 确认删除操作
3. 删除成功后跳转回患者列表

### 8. 侧边栏导航
1. 点击左侧菜单项切换功能模块：
   - 患者管理 `/patients`（已完成）
   - 挂号排队 `/appointments`（开发中）
   - 药物医嘱 `/prescriptions`（开发中）
   - 病历管理 `/records`（开发中）
   - 系统监控 `/dashboard`（开发中）
2. 桌面端可以点击侧边栏底部按钮折叠/展开菜单
3. 移动端点击汉堡菜单图标打开/关闭侧边栏

### 9. 退出登录
1. 点击右上角"退出"按钮
2. 自动跳转到登录页面

## UI设计特点

### 未来感赛博朋克风格
- **霓虹色彩**: 蓝色、紫色、青色的霓虹发光效果
- **玻璃态背景**: 半透明背景和模糊效果
- **渐变元素**: 多层次的渐变背景和边框
- **发光特效**: 悬停时的霓虹发光动画

### 交互动画
- **卡片悬停**: 鼠标悬停时卡片向上浮动
- **按钮交互**: 按钮点击有缩放反馈
- **页面切换**: 路由切换时的淡入淡出动画
- **消息展示**: AI对话消息的滑入动画

### 响应式设计
- **桌面端** (≥ 1024px): 侧边栏固定，内容区域自适应
- **平板端** (768px - 1023px): 侧边栏可折叠
- **移动端** (< 768px): 汉堡菜单，全屏侧边栏

## 开发工具

### 代码质量检查
```bash
npm run lint          # 检查代码规范
npm run lint:fix      # 自动修复代码规范问题
```

### 测试
```bash
npm run test          # 运行单元测试
npm run test:ui       # 运行测试UI界面
npm run test:coverage # 生成测试覆盖率报告
```

### 构建
```bash
npm run build         # 构建生产版本
npm run preview       # 预览生产构建
```

## 技术栈

- **框架**: React 18.3.1
- **构建工具**: Vite 5.4.2
- **语言**: TypeScript 5.5.4
- **路由**: React Router 6.26.1
- **状态管理**:
  - Zustand 4.5.5 (全局状态)
  - React Query 5.52.1 (服务器状态)
- **表单**: React Hook Form 7.52.2 + Zod 3.23.8
- **UI组件**: Headless UI 2.2.9
- **动画**: Framer Motion 11.3.30
- **样式**: TailwindCSS 3.4.10
- **图标**: Lucide React 0.428.0
- **Toast**: Sonner 1.5.0
- **HTTP**: Axios 1.7.5

## 项目结构

```
frontend/
├── src/
│   ├── @types/           # TypeScript类型定义
│   ├── api/              # API服务层
│   ├── components/       # React组件
│   │   ├── auth/        # 认证相关组件
│   │   ├── layout/      # 布局组件
│   │   ├── patient/     # 患者管理组件
│   │   └── ui/          # UI基础组件库
│   ├── pages/           # 页面组件
│   ├── store/           # Zustand状态管理
│   ├── styles/          # 全局样式
│   ├── utils/           # 工具函数
│   ├── App.tsx          # 应用根组件
│   ├── main.tsx         # 应用入口
│   └── vite-env.d.ts    # Vite环境类型
├── public/              # 静态资源
├── dist/                # 构建产物
├── package.json         # 项目配置
├── tsconfig.json        # TypeScript配置
├── vite.config.ts       # Vite配置
└── tailwind.config.js   # TailwindCSS配置
```

## 常见问题

### Q: 启动后无法访问后端API怎么办？
A: 确保后端服务已启动，并且环境变量配置正确。检查 `.env` 文件中的 `VITE_API_BASE_URL` 设置。

### Q: 如何修改API地址？
A: 在项目根目录创建 `.env.local` 文件，添加：
```
VITE_API_BASE_URL=http://your-api-server:port/api/v1
```

### Q: 移动端菜单无法关闭怎么办？
A: 点击侧边栏菜单项会自动关闭，也可以点击背景遮罩关闭。

### Q: 如何自定义主题颜色？
A: 编辑 `tailwind.config.js` 文件中的 `colors` 配置，修改 `primary`、`secondary`、`accent` 等颜色值。

### Q: 如何添加新的页面？
A:
1. 在 `src/pages/` 创建新的页面组件
2. 在 `src/App.tsx` 添加对应路由
3. 在 `src/components/layout/DashboardLayout.tsx` 的 `menuItems` 添加菜单项

## 注意事项

1. **开发环境**: 确保Node.js版本 >= 20.0.0
2. **浏览器支持**: 建议使用Chrome、Edge、Safari最新版本
3. **模拟数据**: 当前使用的是后端真实API，确保后端服务正常运行
4. **权限控制**: 不同角色用户可能看到不同的功能（需后端配置）

## 获取帮助

如有问题，请查看：
1. 项目完成报告：`milestone3-frontend-completion-report.md`
2. 代码注释：所有组件都有详细的JSDoc注释
3. 类型定义：`src/@types/index.ts` 包含所有数据类型

---

**祝您使用愉快！**
